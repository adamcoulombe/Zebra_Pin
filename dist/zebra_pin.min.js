!function(t){"use strict";t.Zebra_Pin=function(s,n){var i={class_name:"Zebra_Pin",contain:!1,hard:!1,top_spacing:0,bottom_spacing:0,z_index:9999,onPin:null,onUnpin:null},o=this,e=(Math.random()+1).toString(36).substring(2,7),a=t(window);o.settings={};o.update=function(){s.each(function(s){void 0===t(this).data("Zebra_Pin_Position")?t(this).data("Zebra_Pin_Position",t(this).css("position")):t(this).css("position",t(this).data("Zebra_Pin_Position"));var n=t(this),i=n.offset(),p=n.position(),g=n.outerHeight(),c=parseInt(n.css("marginLeft"),10)||0,l=parseInt(n.css("marginTop"),10)||0;if(i.left-=c,i.top-=l,o.settings.contain)var f=n.parent(),r=f.height(),_=f.offset();if(o.settings.hard)n.css({position:"fixed",left:i.left,top:i.top,zIndex:o.settings.z_index}).addClass(o.settings.class_name);else{n.css({zIndex:o.settings.z_index}).removeClass(o.settings.class_name);var d=".Zebra_Pin_"+e+"_"+s;a.off("scroll"+d).on("scroll"+d,function(){var t=a.scrollTop();t>=i.top-o.settings.top_spacing&&(!o.settings.contain||t<=_.top+r-o.settings.top_spacing-g-o.settings.bottom_spacing)&&"fixed"!==n.css("position")?(n.css({position:"fixed",left:i.left,top:o.settings.top_spacing}).addClass(o.settings.class_name),o.settings.onPin&&"function"==typeof o.settings.onPin&&o.settings.onPin(i.top-o.settings.top_spacing,n,s)):t<i.top-o.settings.top_spacing&&"absolute"!==n.css("position")?(n.css({position:"absolute",left:p.left,top:p.top}).removeClass(o.settings.class_name),o.settings.onUnpin&&"function"==typeof o.settings.onUnpin&&o.settings.onUnpin(i.top-o.settings.top_spacing,n,s)):o.settings.contain&&t>=_.top+r-o.settings.top_spacing-g-o.settings.bottom_spacing&&"absolute"!==n.css("position")&&(n.css({position:"absolute",left:p.left,top:r-g-o.settings.bottom_spacing-o.settings.bottom_spacing}).removeClass(o.settings.class_name),o.settings.onUnpin&&"function"==typeof o.settings.onUnpin&&o.settings.onUnpin(_.top+r-g-o.settings.bottom_spacing,n,s))}),a.trigger("scroll"+d)}})},function(){o.settings=t.extend({},i,n),o.update(),a.on("resize",function(){o.update()})}()}}(jQuery);